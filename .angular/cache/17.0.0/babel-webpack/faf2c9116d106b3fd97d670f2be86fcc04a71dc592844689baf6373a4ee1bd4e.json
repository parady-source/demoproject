{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../general.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/card\";\nfunction UltravioletComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.County);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.SiteName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.UVI);\n  }\n}\nfunction UltravioletComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.County);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.SiteName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r6.UVI);\n  }\n}\nfunction UltravioletComponent_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r7.County);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r7.SiteName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r7.UVI);\n  }\n}\nfunction UltravioletComponent_div_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.County);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.SiteName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r8.UVI);\n  }\n}\nfunction UltravioletComponent_div_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.County);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.SiteName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.UVI);\n  }\n}\nexport let UltravioletComponent = /*#__PURE__*/(() => {\n  class UltravioletComponent {\n    constructor(GeneralService) {\n      this.GeneralService = GeneralService;\n      this.displayedColumns = ['County', 'SiteName', 'PublishAgency', 'UVI', 'PublishTime'];\n      this.headers = ['縣市', '測站名稱', '發布機關', '紫外線指數', '發布時間'];\n      this.UVRecordDataSource = new MatTableDataSource();\n      this.items = [];\n      this.results = [];\n      this.Array_1 = []; //Green\n      this.Array_2 = []; //Yellow\n      this.Array_3 = []; //Orange\n      this.Array_4 = []; //Red\n      this.Array_5 = []; //Purple\n    }\n\n    ngOnInit() {\n      this.getData(); //程式一啟動時即撈取資料\n    }\n\n    getData() {\n      this.GeneralService.getUVRecord().subscribe(response => {\n        //1.取得標題 (不需要因為沒有要全用)\n        //response.fields.forEach((element: any) => this.displayedColumns.push(element.id));\n        //response.fields.forEach((element: any) => console.log(element.id));\n        //2.取得資料\n        //response.fields.forEach((element: any) => console.log(element.id));\n        let datalist = [];\n        let sitelist = [];\n        for (let record of response.records) {\n          sitelist.push(record.County + record.SiteName);\n        }\n        sitelist = [...new Set(sitelist)];\n        for (let site of sitelist) {\n          datalist.push(response.records.filter(x => x.County + x.SiteName == site)[0]);\n        }\n        this.UVRecordDataSource.data = datalist;\n        this.items = datalist;\n        this.Array_1 = datalist.filter(x => Number(x.UVI) >= 0 && Number(x.UVI) < 3);\n        console.log(this.Array_1);\n        this.Array_2 = datalist.filter(x => Number(x.UVI) >= 3 && Number(x.UVI) < 6);\n        console.log(this.Array_2);\n        this.Array_3 = datalist.filter(x => Number(x.UVI) >= 6 && Number(x.UVI) < 8);\n        console.log(this.Array_3);\n        this.Array_4 = datalist.filter(x => Number(x.UVI) >= 8 && Number(x.UVI) < 11);\n        console.log(this.Array_4);\n        this.Array_5 = datalist.filter(x => Number(x.UVI) >= 11);\n        console.log(this.Array_5);\n      }, error => this.GeneralService.HandleError(error));\n    }\n    static #_ = this.ɵfac = function UltravioletComponent_Factory(t) {\n      return new (t || UltravioletComponent)(i0.ɵɵdirectiveInject(i1.GeneralService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UltravioletComponent,\n      selectors: [[\"app-ultraviolet\"]],\n      decls: 88,\n      vars: 10,\n      consts: [[2, \"margin\", \"auto\", \"padding\", \"10px\"], [2, \"background-color\", \"rgba(255,255,255,0.8)\"], [1, \"new-flex-container\"], [1, \"new-item-header\"], [1, \"new-item\", 2, \"font-weight\", \"bold\", \"background-color\", \"greenyellow\"], [1, \"new-item\", 2, \"font-weight\", \"bold\", \"background-color\", \"yellow\"], [1, \"new-item\", 2, \"font-weight\", \"bold\", \"color\", \"brown\", \"background-color\", \"orange\"], [1, \"new-item\", 2, \"font-weight\", \"bold\", \"color\", \"white\", \"background-color\", \"orangered\"], [1, \"new-item\", 2, \"font-weight\", \"bold\", \"color\", \"white\", \"background-color\", \"purple\"], [1, \"new-item\"], [2, \"background-color\", \"rgba(255,255,255,0.8)\", \"border\", \"4px purple solid\"], [1, \"flex-container\", 2, \"height\", \"max-content\"], [1, \"flex-item\"], [2, \"text-align\", \"left\"], [1, \"table-flex-container\"], [\"class\", \"table-flex-item\", 4, \"ngFor\", \"ngForOf\"], [2, \"background-color\", \"rgba(255,255,255,0.8)\", \"border\", \"4px orangered solid\"], [2, \"background-color\", \"rgba(255,255,255,0.8)\", \"border\", \"4px orange solid\"], [2, \"background-color\", \"rgba(255,255,255,0.8)\", \"border\", \"4px yellow solid\"], [2, \"background-color\", \"rgba(255,255,255,0.8)\", \"border\", \"4px yellowgreen solid\"], [1, \"table-flex-item\"], [2, \"text-align\", \"center\"]],\n      template: function UltravioletComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"mat-card-title\");\n          i0.ɵɵtext(3, \"\\u7D2B\\u5916\\u7DDA\\u6307\\u6A19\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2);\n          i0.ɵɵelement(5, \"div\", 3);\n          i0.ɵɵelementStart(6, \"div\", 4);\n          i0.ɵɵtext(7, \"\\u4F4E\\u91CF\\u7D1A\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 5);\n          i0.ɵɵtext(9, \"\\u4E2D\\u91CF\\u7D1A\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 6);\n          i0.ɵɵtext(11, \"\\u9AD8\\u91CF\\u7D1A\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 7);\n          i0.ɵɵtext(13, \"\\u904E\\u91CF\\u7D1A\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"div\", 8);\n          i0.ɵɵtext(15, \"\\u5371\\u96AA\\u7D1A\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 2);\n          i0.ɵɵelement(17, \"div\", 3);\n          i0.ɵɵelementStart(18, \"div\", 9);\n          i0.ɵɵtext(19, \"0-2\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"div\", 9);\n          i0.ɵɵtext(21, \"3-5\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 9);\n          i0.ɵɵtext(23, \"6-7\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"div\", 9);\n          i0.ɵɵtext(25, \"8-10\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 9);\n          i0.ɵɵtext(27, \"11+\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 0)(29, \"mat-card\", 10)(30, \"div\", 11)(31, \"div\", 12)(32, \"div\", 13)(33, \"b\");\n          i0.ɵɵtext(34, \"\\u5371\\u96AA\\u7D1A\");\n          i0.ɵɵelement(35, \"br\");\n          i0.ɵɵtext(36);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(37, \"div\", 11)(38, \"div\", 14);\n          i0.ɵɵtemplate(39, UltravioletComponent_div_39_Template, 7, 3, \"div\", 15);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(40, \"div\", 0)(41, \"mat-card\", 16)(42, \"div\", 11)(43, \"div\", 12)(44, \"div\", 13)(45, \"b\");\n          i0.ɵɵtext(46, \"\\u904E\\u91CF\\u7D1A\");\n          i0.ɵɵelement(47, \"br\");\n          i0.ɵɵtext(48);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(49, \"div\", 11)(50, \"div\", 14);\n          i0.ɵɵtemplate(51, UltravioletComponent_div_51_Template, 7, 3, \"div\", 15);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(52, \"div\", 0)(53, \"mat-card\", 17)(54, \"div\", 11)(55, \"div\", 12)(56, \"div\", 13)(57, \"b\");\n          i0.ɵɵtext(58, \"\\u9AD8\\u91CF\\u7D1A\");\n          i0.ɵɵelement(59, \"br\");\n          i0.ɵɵtext(60);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(61, \"div\", 11)(62, \"div\", 14);\n          i0.ɵɵtemplate(63, UltravioletComponent_div_63_Template, 7, 3, \"div\", 15);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(64, \"div\", 0)(65, \"mat-card\", 18)(66, \"div\", 11)(67, \"div\", 12)(68, \"div\", 13)(69, \"b\");\n          i0.ɵɵtext(70, \"\\u4E2D\\u91CF\\u7D1A\");\n          i0.ɵɵelement(71, \"br\");\n          i0.ɵɵtext(72);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(73, \"div\", 11)(74, \"div\", 14);\n          i0.ɵɵtemplate(75, UltravioletComponent_div_75_Template, 7, 3, \"div\", 15);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(76, \"div\", 0)(77, \"mat-card\", 19)(78, \"div\", 11)(79, \"div\", 12)(80, \"div\", 13)(81, \"b\");\n          i0.ɵɵtext(82, \"\\u4F4E\\u91CF\\u7D1A\");\n          i0.ɵɵelement(83, \"br\");\n          i0.ɵɵtext(84);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(85, \"div\", 11)(86, \"div\", 14);\n          i0.ɵɵtemplate(87, UltravioletComponent_div_87_Template, 7, 3, \"div\", 15);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(36);\n          i0.ɵɵtextInterpolate1(\" \", ctx.Array_5.length, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.Array_5);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\" \", ctx.Array_4.length, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.Array_4);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\" \", ctx.Array_3.length, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.Array_3);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\" \", ctx.Array_2.length, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.Array_2);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\" \", ctx.Array_1.length, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.Array_1);\n        }\n      },\n      dependencies: [i2.NgForOf, i3.MatCard, i3.MatCardTitle],\n      styles: [\".flex-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;padding:0% 10%;margin:0;list-style:none;height:25px}.flex-item[_ngcontent-%COMP%]{font-weight:400;font-family:Helvetica Neue,sans-serif}.new-flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.new-item-header[_ngcontent-%COMP%]{width:10%;text-align:center;line-height:30px}.new-item[_ngcontent-%COMP%]{width:15%;text-align:center;line-height:30px}.table-flex-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,80px);grid-gap:1rem;background:#fcfcfc;padding:1rem;width:100%;padding:5px 0;margin:5px 0}.table-flex-item[_ngcontent-%COMP%]{height:max-content;width:auto;text-align:center;background:white;align-self:stretch;margin:10px}.table-flex-item[_ngcontent-%COMP%]:hover{background:#eee}\"]\n    });\n  }\n  return UltravioletComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
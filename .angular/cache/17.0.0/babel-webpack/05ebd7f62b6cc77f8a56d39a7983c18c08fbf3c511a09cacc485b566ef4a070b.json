{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let Record = /*#__PURE__*/(() => {\n  class Record {\n    userid = \"\";\n    stockid = \"\";\n    count = 0;\n    price = 0;\n    static ɵfac = function Record_Factory(t) {\n      return new (t || Record)();\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: Record,\n      factory: Record.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return Record;\n})();\nexport let GeneralService = /*#__PURE__*/(() => {\n  class GeneralService {\n    http;\n    url = 'https://data.epa.gov.tw/api';\n    apikey = '6545dff2-8344-4847-a55a-f45bb44af086';\n    stockurl = 'https://www.tpex.org.tw/openapi/v1/tpex_mainboard_peratio_analysis';\n    Get_Cors_Api_Url = 'https://script.google.com/macros/s/AKfycbzhDPSV5yBGS6ALkxCoReP1fK0-XBh41uu9bfhpeb4d5DSeOA9fL4POLGJsSEA_neoIkA/exec?';\n    InvestmentReadUrl = 'https://script.google.com/macros/s/AKfycbz0nlvVLj1YOjynW0RPbcoUGvZbSPNWFBeBU41fsmarRwFhkEigrvXSs9TMA718vMUv/exec?';\n    InvestmentCreateUrl = 'https://script.google.com/macros/s/AKfycbyKhzrLNNdAxJn75Kptlpjb0bTXzKGYLqi0Hblj2_RFk9FXR6CE04uElgyXcdurhgRkTg/exec?';\n    constructor(http) {\n      this.http = http;\n    }\n    httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': 'https://data.epa.gov.tw/',\n        'Access-Control-Allow-Methods': 'GET, PUT, POST, DELETE, OPTIONS',\n        'Access-Control-Max-Age': '86400'\n      }),\n      method: 'GET',\n      mode: 'no-cors'\n    };\n    getQuote() {\n      const URL = 'https://thesimpsonsquoteapi.glitch.me/quotes';\n      return this.http.get(URL);\n    }\n    getAQIRecord() {\n      const URL = this.url + '/v2/aqx_p_432?api_key=' + this.apikey;\n      return this.http.get(this.Get_Cors_Api_Url + 'url=' + URL, this.httpOptions);\n    }\n    getUVRecord() {\n      const URL = this.url + '/v2/uv_s_01?api_key=' + this.apikey;\n      return this.http.get(this.Get_Cors_Api_Url + 'url=' + URL, this.httpOptions);\n    }\n    getInvestmentRecord(UserId, NeedUpdate) {\n      const URL = this.InvestmentReadUrl;\n      return this.http.get(URL + 'UserId=' + UserId + '&NeedUpdate=' + NeedUpdate);\n    }\n    setInvestmentRecord(userid, stockid, count, price) {\n      const URL = this.InvestmentCreateUrl;\n      return this.http.get(URL + 'UserId=' + userid + '&StockId=' + stockid + '&Count=' + count + '&Price=' + price);\n    }\n    // http呼叫錯誤處理\n    HandleError(e) {\n      // console.log(e);\n      alert(e.error.error);\n    }\n    static ɵfac = function GeneralService_Factory(t) {\n      return new (t || GeneralService)(i0.ɵɵinject(i1.HttpClient));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: GeneralService,\n      factory: GeneralService.ɵfac\n    });\n  }\n  return GeneralService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
<div style="text-align: right; padding-right:10px;">
    <button mat-raised-button (click)="ResetUserId(cookieUserId)">
        <mat-icon *ngIf="!showInputUserId" style="vertical-align: center;">person</mat-icon>
        <span *ngIf="!showInputUserId" class="full-width"> {{cookieUserId}}</span>
        <mat-icon *ngIf="!showInputUserId" style="vertical-align: center;padding-left: 5px;">exit_to_app</mat-icon>
    </button>
</div>

<div style="text-align: center;">
    <div>
        <h3>
            <strong>Investment<span style="padding-left: 5px"></span></strong> Statistics
        </h3>
    </div>

    <div class="box" style="vertical-align: text-bottom;" *ngIf="showInputUserId">
        <mat-icon>person</mat-icon>
        <mat-form-field style="width: 50%; vertical-align: baseline">
            <mat-label>請輸入使用者代號</mat-label>
            <input matInput #txtUserId id="txtUserId" placeholder="Ex. ..." />
        </mat-form-field>
        <button mat-button (click)="SetUserId(txtUserId)">Login</button>
    </div>

    <div style="margin: auto;width: 90%;padding: 10px;">
        <mat-card style="background-color: rgba(255,255,255,0.8);text-align: left;">
            <mat-card-title>目標達成率</mat-card-title>
            <mat-card-subtitle>
                <mat-form-field style="width: 100%; vertical-align: baseline">
                    <mat-label>目標 <b>每年</b> 股利</mat-label>
                    <input matInput #txtTarget id="txtTarget" (keyup)="SetRate(txtTarget)" type="number" />
                </mat-form-field>
            </mat-card-subtitle>
            <div class="flex-container" style="height:max-content;">
                <div class="flex-item">
                    <p>目前股利</p>
                    <div class="c100 p100 center">
                        <span>{{sumRevenue.toFixed(0)}}</span>
                        <div class="slice">
                            <div class="bar"></div>
                            <div class="fill"></div>
                        </div>
                        <br>
                    </div>
                </div>

                <div class="flex-item">
                    <p>平均股利計算</p>
                    <div class="c100 p{{sumRate.toFixed(0)}} center">
                        <span>{{sumRate}}%</span>
                        <div class="slice">
                            <div class="bar"></div>
                            <div class="fill"></div>
                        </div>
                        <br>
                    </div>
                </div>

            </div>
        </mat-card>
    </div>
    <div style="margin: auto;width: 90%;padding: 10px;">
        <mat-card style="background-color: rgba(255,255,255,0.8);text-align: left;">
            <mat-card-title>現有股票清單</mat-card-title>
            <mat-tab-group [@.disabled]="true" mat-align-tabs="center">
                <mat-tab>
                    <ng-template mat-tab-label>
                        <h3><strong>基本數據<span style="padding-left: 5px"></span></strong></h3>
                    </ng-template>
                    <div class="flex-container" style="width:80%;text-align: left;">
                        <div class="flex-item" style="width: 8%;">股票代號</div>
                        <div class="flex-item" style="width: 16%;">股票名稱</div>
                        <div class="flex-item" style="width: 10%;">持有股數</div>
                        <div class="flex-item" style="width: 10%;">平均單價</div>
                        <div class="flex-item" style="width: 10%;">持有成本</div>
                        <div class="flex-item" style="width: 10%;">最新現價</div>
                        <div class="flex-item" style="width: 10%;">目前市值</div>
                        <div class="flex-item" style="width: 10%;">目前損益</div>
                        <div class="flex-item" style="width: 10%;">損益率</div>
                    </div>
                    <span *ngFor="let stock of Stock_Array">
                        <div class="flex-container" style="width:80%;text-align: left;">
                            <div class="flex-item" style="width: 8%;">{{stock.toString().split(',')[0]}}</div>
                            <div class="flex-item" style="width: 16%;">{{stock.toString().split(',')[1]}}</div>
                            <div class="flex-item" style="width: 10%;">{{stock.toString().split(',')[2]}}</div>
                            <div class="flex-item" style="width: 10%;">{{stock.toString().split(',')[3]}}</div>
                            <div class="flex-item" style="width: 10%;"></div>
                            <div class="flex-item" style="width: 10%;">{{stock.toString().split(',')[4]}}</div>
                            <div class="flex-item" style="width: 10%;"></div>
                            <div class="flex-item" style="width: 10%;"></div>
                            <div class="flex-item" style="width: 10%;"></div>
                        </div>
                    </span>
                </mat-tab>
                <mat-tab>
                    <ng-template mat-tab-label>
                        <h3><strong>平均配股配息<span style="padding-left: 5px"></span></strong></h3>
                    </ng-template>
                    <div class="flex-container" style="width:80%;text-align: left;">
                        <div class="flex-item" style="width: 8%;">股票代號</div>
                        <div class="flex-item" style="width: 16%;">股票名稱</div>
                        <div class="flex-item" style="width: 15%;">現金配息</div>
                        <div class="flex-item" style="width: 15%;">現金殖利率</div>
                        <div class="flex-item" style="width: 15%;">現金配股</div>
                        <div class="flex-item" style="width: 15%;">股票殖利率</div>
                        <div class="flex-item" style="width: 15%;">年利息</div>
                    </div>
                    <span *ngFor="let stock of Stock_Array">
                        <div class="flex-container" style="width:80%;text-align: left;">
                            <div class="flex-item" style="width: 8%;">{{stock.toString().split(',')[0]}}</div>
                            <div class="flex-item" style="width: 16%;">{{stock.toString().split(',')[1]}}</div>
                            <div class="flex-item" style="width: 15%;">{{stock.toString().split(',')[5]}}</div>
                            <div class="flex-item" style="width: 15%;"></div>
                            <div class="flex-item" style="width: 15%;">{{stock.toString().split(',')[6]}}</div>
                            <div class="flex-item" style="width: 15%;"></div>
                            <div class="flex-item" style="width: 15%;"></div>
                        </div>
                    </span>
                </mat-tab>
                
            </mat-tab-group>

            <!-- <div class="flex-container" style="height:max-content;">
                <div class="flex-item">
                    <section style="width: 100%;">
                            <div class="row">
                                <div class="col"></div>
                            </div>
                        </span>
                    </section>
                </div>
            </div> -->
        </mat-card>
    </div>
</div>